/*! For license information please see custom-form.js.LICENSE.txt */
!function(){var e={807:function(e){e.exports=function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function n(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o={exports:{}};!function(e){"undefined"!=typeof window&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),a=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(n||a)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,r,c,s,u,f,l,d,h;if(!(t=e.match(o)))throw new Error("invalid data URI");for(r=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),c=!!t[4],s=e.slice(t[0].length),u=c?atob(s):decodeURIComponent(s),f=new ArrayBuffer(u.length),l=new Uint8Array(f),d=0;d<u.length;d+=1)l[d]=u.charCodeAt(d);return n?new Blob([i?l:f],{type:r}):((h=new a).append(f),h.getBlob(r))};t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&r.toDataURL&&c?e(c(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:r.toDataURL&&c&&(r.msToBlob?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&r.toDataURL&&c?e(c(i.toDataURL(t,n))):e(i.msToBlob(t))})}:r.toBlob=function(e,t,r){var n=this;setTimeout(function(){e(c(n.toDataURL(t,r)))})})),e.exports?e.exports=c:t.dataURLtoBlob=c}(window)}(o);var c=o.exports,s={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},u="undefined"!=typeof window&&void 0!==window.document?window:{},f=function(e){return e>0&&e<1/0},l=Array.prototype.slice;function d(e){return Array.from?Array.from(e):l.call(e)}var h=/^image\/.+$/;function p(e){return h.test(e)}var m=String.fromCharCode;var v=u.btoa;function y(e,t){for(var r=[],n=new Uint8Array(e);n.length>0;)r.push(m.apply(null,d(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(v(r.join("")))}function b(e){var t,r=new DataView(e);try{var n,i,a;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var o=r.byteLength,c=2;c+1<o;){if(255===r.getUint8(c)&&225===r.getUint8(c+1)){i=c;break}c+=1}if(i){var s=i+10;if("Exif"===function(e,t,r){var n,i="";for(r+=t,n=t;n<r;n+=1)i+=m(e.getUint8(n));return i}(r,i+4,4)){var u=r.getUint16(s);if(((n=18761===u)||19789===u)&&42===r.getUint16(s+2,n)){var f=r.getUint32(s+4,n);f>=8&&(a=s+f)}}}if(a){var l,d,h=r.getUint16(a,n);for(d=0;d<h;d+=1)if(l=a+12*d+2,274===r.getUint16(l,n)){l+=8,t=r.getUint16(l,n),r.setUint16(l,1,n);break}}}catch(e){t=1}return t}var g=/\.\d*(?:0|9){12}\d*$/;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return g.test(e)?Math.round(e*t)/t:e}function O(e){var t=e.aspectRatio,r=e.height,n=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",a=f(n),o=f(r);if(a&&o){var c=r*t;("contain"===i||"none"===i)&&c>n||"cover"===i&&c<n?r=n/t:n=r*t}else a?r=n/t:o&&(n=r*t);return{width:n,height:r}}var j=u.ArrayBuffer,x=u.FileReader,k=u.URL||u.webkitURL,B=/\.\w+$/,U=u.Compressor;return function(){function e(r,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.file=r,this.exif=[],this.image=new Image,this.options=t(t({},s),n),this.aborted=!1,this.result=null,this.init()}return n=e,o=[{key:"noConflict",value:function(){return window.Compressor=U,e}},{key:"setDefaults",value:function(e){i(s,e)}}],(a=[{key:"init",value:function(){var e,t=this,r=this.file,n=this.options;if(e=r,"undefined"!=typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))){var a=r.type;if(p(a))if(k&&x){j||(n.checkOrientation=!1,n.retainExif=!1);var o="image/jpeg"===a,c=o&&n.checkOrientation,s=o&&n.retainExif;if(!k||c||s){var u=new x;this.reader=u,u.onload=function(e){var n=e.target.result,o={},u=1;c&&(u=b(n))>1&&i(o,function(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:n}}(u)),s&&(t.exif=function(e){for(var t=d(new Uint8Array(e)),r=t.length,n=[],i=0;i+3<r;){var a=t[i],o=t[i+1];if(255===a&&218===o)break;if(255===a&&216===o)i+=2;else{var c=i+(256*t[i+2]+t[i+3])+2,s=t.slice(i,c);n.push(s),i=c}}return n.reduce(function(e,t){return 255===t[0]&&225===t[1]?e.concat(t):e},[])}(n)),o.url=c||s?!k||u>1?y(n,a):k.createObjectURL(r):n,t.load(o)},u.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){t.reader=null},c||s?u.readAsArrayBuffer(r):u.readAsDataURL(r)}else this.load({url:k.createObjectURL(r)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var r=this,n=this.file,i=this.image;i.onload=function(){r.draw(t(t({},e),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){r.fail(new Error("Aborted to load the image."))},i.onerror=function(){r.fail(new Error("Failed to load the image."))},u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=n.name,i.src=e.url}},{key:"draw",value:function(e){var t=this,r=e.naturalWidth,n=e.naturalHeight,i=e.rotate,a=void 0===i?0:i,o=e.scaleX,s=void 0===o?1:o,u=e.scaleY,l=void 0===u?1:u,h=this.file,m=this.image,v=this.options,b=document.createElement("canvas"),g=b.getContext("2d"),j=Math.abs(a)%180==90,k=("contain"===v.resize||"cover"===v.resize)&&f(v.width)&&f(v.height),B=Math.max(v.maxWidth,0)||1/0,U=Math.max(v.maxHeight,0)||1/0,E=Math.max(v.minWidth,0)||0,T=Math.max(v.minHeight,0)||0,A=r/n,P=v.width,R=v.height;if(j){var F=[U,B];B=F[0],U=F[1];var D=[T,E];E=D[0],T=D[1];var S=[R,P];P=S[0],R=S[1]}k&&(A=P/R);var z=O({aspectRatio:A,width:B,height:U},"contain");B=z.width,U=z.height;var M=O({aspectRatio:A,width:E,height:T},"cover");if(E=M.width,T=M.height,k){var L=O({aspectRatio:A,width:P,height:R},v.resize);P=L.width,R=L.height}else{var C=O({aspectRatio:A,width:P,height:R}),$=C.width;P=void 0===$?r:$;var _=C.height;R=void 0===_?n:_}var H=-(P=Math.floor(w(Math.min(Math.max(P,E),B))))/2,W=-(R=Math.floor(w(Math.min(Math.max(R,T),U))))/2,I=P,G=R,K=[];if(k){var q,V,N,X,Y=O({aspectRatio:A,width:r,height:n},{contain:"cover",cover:"contain"}[v.resize]);N=Y.width,X=Y.height,q=(r-N)/2,V=(n-X)/2,K.push(q,V,N,X)}if(K.push(H,W,I,G),j){var J=[R,P];P=J[0],R=J[1]}b.width=P,b.height=R,p(v.mimeType)||(v.mimeType=h.type);var Q="transparent";h.size>v.convertSize&&v.convertTypes.indexOf(v.mimeType)>=0&&(v.mimeType="image/jpeg");var Z="image/jpeg"===v.mimeType;if(Z&&(Q="#fff"),g.fillStyle=Q,g.fillRect(0,0,P,R),v.beforeDraw&&v.beforeDraw.call(this,g,b),!this.aborted&&(g.save(),g.translate(P/2,R/2),g.rotate(a*Math.PI/180),g.scale(s,l),g.drawImage.apply(g,[m].concat(K)),g.restore(),v.drew&&v.drew.call(this,g,b),!this.aborted)){var ee=function(e){if(!t.aborted){var i=function(e){return t.done({naturalWidth:r,naturalHeight:n,result:e})};if(e&&Z&&v.retainExif&&t.exif&&t.exif.length>0){var a=function(e){return i(c(y(function(e,t){var r=d(new Uint8Array(e));if(255!==r[2]||224!==r[3])return e;var n=256*r[4]+r[5],i=[255,216].concat(t,r.slice(4+n));return new Uint8Array(i)}(e,t.exif),v.mimeType)))};if(e.arrayBuffer)e.arrayBuffer().then(a).catch(function(){t.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var o=new x;t.reader=o,o.onload=function(e){var t=e.target;a(t.result)},o.onabort=function(){t.fail(new Error("Aborted to read the compressed image with FileReader."))},o.onerror=function(){t.fail(new Error("Failed to read the compressed image with FileReader."))},o.onloadend=function(){t.reader=null},o.readAsArrayBuffer(e)}}else i(e)}};b.toBlob?b.toBlob(ee,v.mimeType,v.quality):ee(c(b.toDataURL(v.mimeType,v.quality)))}}},{key:"done",value:function(e){var t,r,n=e.naturalWidth,i=e.naturalHeight,a=e.result,o=this.file,c=this.image,s=this.options;if(k&&0===c.src.indexOf("blob:")&&k.revokeObjectURL(c.src),a)if(s.strict&&!s.retainExif&&a.size>o.size&&s.mimeType===o.type&&!(s.width>n||s.height>i||s.minWidth>n||s.minHeight>i||s.maxWidth<n||s.maxHeight<i))a=o;else{var u=new Date;a.lastModified=u.getTime(),a.lastModifiedDate=u,a.name=o.name,a.name&&a.type!==o.type&&(a.name=a.name.replace(B,(t=a.type,"jpeg"===(r=p(t)?t.substr(6):"")&&(r="jpg"),".".concat(r))))}else a=o;this.result=a,s.success&&s.success.call(this,a)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&r(n.prototype,a),o&&r(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e;var n,a,o}()}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e){var r=!0,n=!1,i=$(this),a=function(){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),n=!0};return this.checkValidity&&!this.checkValidity()&&(r=!1,n||a(),i.find('input:not([type="file"]), select, textarea').each(function(){this.validity.valid||$(this).trigger("invalid",this.validity)})),i.find('input[type="file"]').each(function(){var e=$(this),o=function(e){var t=parseInt(e.data("max-total-files"),10)||5,r=1024*(parseInt(e.data("max-files-size"),10)||5)*1024,n=e.data("uploaded-files")||[],i=n.reduce(function(e,t){return e+t.size},0);return i>r||n.length>t?{valid:!1}:{valid:!0}}(e);o.valid||(r=!1,n||a(),t(i,e.attr("name").replace("[]","")))}),r}function t(e,t){var r=e.find(".".concat(t,"-form-group"));r.length&&r.find(".invalid-message").css("display","block")}var n={initialize:function(r){!function(t){t.on("submit",function(t){return e.call(this,t)})}(r),function(e){e.find("input, select, textarea").on("invalid",function(r){if(r.preventDefault(),this.setCustomValidity(""),!this.validity.valid){var n=$(this);n.addClass("invalid"),t(e,n.attr("name"))}})}(r),function(e){e.find('button[type="submit"], input[type="submit"]').on("click",function(){e.find(".form-control.invalid").removeClass("invalid"),e.find(".invalid-message").css("display","none")})}(r)},showError:t},i=r(807),a=r.n(i);function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var o=n&&n.prototype instanceof u?n:u,f=Object.create(o.prototype);return c(f,"_invoke",function(r,n,i){var a,o,c,u=0,f=i||[],l=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return a=t,o=0,c=e,d.n=r,s}};function h(r,n){for(o=r,c=n,t=0;!l&&u&&!i&&t<f.length;t++){var i,a=f[t],h=d.p,p=a[2];r>3?(i=p===n)&&(c=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=h&&((i=r<2&&h<a[1])?(o=0,d.v=n,d.n=a[1]):h<p&&(i=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,d.n=p,o=0))}if(i||r>1)return s;throw l=!0,n}return function(i,f,p){if(u>1)throw TypeError("Generator is already running");for(l&&1===f&&h(f,p),o=f,c=p;(t=o<2?e:c)||!l;){a||(o?o<3?(o>1&&(d.n=-1),h(o,c)):d.n=c:d.v=c);try{if(u=2,a){if(o||(i="next"),t=a[i]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((t=(l=d.n<0)?c:r.call(n,d))!==s)break}catch(t){a=e,o=1,c=t}finally{u=1}}return{value:t,done:l}}}(r,i,a),!0),f}var s={};function u(){}function f(){}function l(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(c(t={},n,function(){return this}),t),h=l.prototype=u.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,c(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return f.prototype=l,c(h,"constructor",l),c(l,"constructor",f),f.displayName="GeneratorFunction",c(l,i,"GeneratorFunction"),c(h),c(h,i,"Generator"),c(h,n,function(){return this}),c(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:a,m:p}})()}function c(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}c=function(e,t,r,n){function a(t,r){c(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},c(e,t,r,n)}function s(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,c,"next",e)}function c(e){s(a,n,i,o,c,"throw",e)}o(void 0)})}}function f(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=function(){return r(n.error)},n.readAsArrayBuffer(e)})}function l(e){return Promise.all(e.map(function(e){return function(e){return new Promise(function(t,r){new(a())(e,{quality:.6,mimeType:"image/jpeg",success:function(r){var n=r;n instanceof Blob&&(n=new File([r],e.name,{type:r.type})),t(n)},error:function(e){r(e)}})})}(e)}))}function d(e,t){return h.apply(this,arguments)}function h(){return h=u(o().m(function e(t,r){var n,i,a,c,s,u,l;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:n=[],i=0;case 1:if(!(i<r.length)){e.n=6;break}return e.p=2,a=r[i],e.n=3,f(a);case 3:c=e.v,s=new Uint8Array(c),u={name:a.name,type:a.type,size:a.size,data:Array.from(s)},n.push(u),t.data("uploaded-files",n),e.n=5;break;case 4:e.p=4,l=e.v,console.error("Error reading file:",l),t.data("uploaded-files",[]);case 5:i++,e.n=1;break;case 6:return e.a(2)}},e,null,[[2,4]])})),h.apply(this,arguments)}var p=function(e){e.find('input[type="file"]').on("change",function(){var e=u(o().m(function e(t){var r,n,i,a,c;return o().w(function(e){for(;;)switch(e.n){case 0:if(r=t.target.files,n=$(this),i=n.parents(".form-group"),a=n.data("compress-files")||!1,n.data("uploaded-files",[]),r&&r.length){e.n=1;break}return e.a(2);case 1:if(i.spinner().start(),!a){e.n=3;break}return e.n=2,l(Array.from(r));case 2:c=e.v,d(n,c),e.n=4;break;case 3:d(n,r);case 4:i.spinner().stop();case 5:return e.a(2)}},e,this)}));return function(t){return e.apply(this,arguments)}}())};function m(e){e&&e.length&&$("html, body").animate({scrollTop:e.offset().top-200},100)}$(document).ready(function(){var e,t=$("form.custom-form-element");t.length&&(t.each(function(){console.log("Initializing custom form:",$(this).attr("id"))}),n.initialize(t),p(t),$("form.custom-form-element").on("submit",function(e){e.preventDefault();var t=$(this),r=t.find('button[type="submit"]').get(0),i=t.attr("action")||"",a=new FormData(t[0],r),o=t.parents(".form-wrapper");r.disabled=!0,t.find(".invalid-message").css("display","none"),o.spinner().start(),Array.from($('input[type="file"]',t)).forEach(function(e){var t=$(e),r=t.attr("name").replace("[]",""),n=t.data("uploaded-files")||[];n.forEach(function(e,t){a.append("".concat(r,"_name_").concat(t),e.name),a.append("".concat(r,"_type_").concat(t),e.type),a.append("".concat(r,"_data_").concat(t),e.data)}),a.append("".concat(r,"_count"),n.length)});var c=Object.fromEntries(a.entries()),s=JSON.stringify(c);console.log("Sending form data:",c),fetch(i,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:s}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e),e&&(e.success?(o.find(".form-header").css("display","none"),o.find(".form-inner").css("display","none"),o.find(".form-response-message").css("display","block"),m(o.find(".form-response-message"))):(n.showError(o,e.field),m(o.find(".".concat(e.field,"-form-group")))))}).catch(function(e){e&&(console.error("Error:",e),n.showError(t,e.field),m(t.find(".".concat(e.field,"-form-group"))))}).finally(function(){r.disabled=!1,o.spinner().stop()})}),(e=t).find("#fillFakeDataButton").on("click",function(){window.FK&&"function"==typeof window.FK.fakeForm&&window.FK.fakeForm(e)}))})}()}();