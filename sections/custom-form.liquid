{% schema %}
{
  "name": "Custom Form",
  "settings": [
    {
      "type": "text",
      "id": "form_id",
      "label": "Form ID",
      "default": "custom_form"
    },
    {
      "type": "text",
      "id": "form_name",
      "label": "Form name",
      "default": "Contact Us"
    },
    {
      "type": "textarea",
      "id": "form_description",
      "label": "Form description",
      "default": "Please fill in the form below."
    },
    {
      "type": "text",
      "id": "form_action",
      "label": "Form action URL",
      "default": "#"
    },
    {
      "type": "select",
      "id": "form_method",
      "label": "Form method",
      "default": "POST",
      "options": [
        { "value": "GET", "label": "GET" },
        { "value": "POST", "label": "POST" }
      ]
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Submit button text",
      "default": "Submit"
    },
    {
      "type": "textarea",
      "id": "custom_css",
      "label": "Custom CSS",
      "default": "Blank"
    }
  ],
  "blocks": [
    {
      "type": "input_block",
      "name": "Input field"
    },
    {
      "type": "select_block",
      "name": "Select field"
    }
  ],
	"templates": ["page"],
  "presets": [
    {
      "name": "Custom Form",
      "category": "8. Forms"
    }
  ]
}
{% endschema %}

{% comment %} {% stylesheet %}
  {{ section.settings.custom_css }}
{% endstylesheet %} {% endcomment %}

<div id="{{ section.settings.form_id }}" class="custom-form">
  {% if section.settings.form_name != blank %}
    <h2>{{ section.settings.form_name }}</h2>
  {% endif %}
  {% if section.settings.form_description != blank %}
    <p>{{ section.settings.form_description }}</p>
  {% endif %}

  <form action="{{ section.settings.form_action }}" method="{{ section.settings.form_method }}">
    {% for block in section.blocks %}
      {% render block %}
    {% endfor %}
    <button type="submit">{{ section.settings.button_text }}</button>
  </form>
</div>
